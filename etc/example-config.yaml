project_name: "run-tasks"

manager:
  encoding: null
  pattern_file_job_command: "{project_name}_job{job_id}_run{job_run_id}"
  storage_period:
    task_run_in_days: 100

notification:
  base_url: "http://127.0.0.1:5510"

  email:
    host: "smtp.mail.ru"
    port: 465
    send_to: "ilya.petrash@inbox.ru"
    login: "ilya.petrash@inbox.ru"
    password: "<password>"

  telegram:
    add_notify_url: "http://127.0.0.1:10016/add_notify"

web:
  host: "0.0.0.0"
  port: 5510
  debug: false
  secret_key: "<your-secret-key>"
  login: "<login>"
  password: "<password>"

logging:
  version: 1

  formatters:
    default:
      format: "[%(asctime)s] %(filename)s[LINE:%(lineno)d] %(levelname)-8s %(message)s"

  handlers:
    console:
      class: "logging.StreamHandler"
      formatter: "default"
      stream: "ext://sys.stdout"

    task-manager-file: &task-manager-file
      class: "concurrent_log_handler.ConcurrentRotatingFileHandler"
      formatter: "default"
      filename: "task_manager.log"
      encoding: "utf-8"
      backupCount: 5
      maxBytes: 10000000
      delay: true

    web-server-file:
      <<: *task-manager-file
      filename: "web.log"

  loggers:
    task-manager:
      handlers: ["console", "task-manager-file"]
      level: "DEBUG"

    werkzeug:
      handlers: ["console", "web-server-file"]
      level: "DEBUG"
